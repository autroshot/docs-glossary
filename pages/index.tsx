import { ExternalLinkIcon, MoonIcon } from '@chakra-ui/icons';
import {
  Box,
  Container,
  Flex,
  Heading,
  HStack,
  IconButton,
  Link,
  Spacer,
} from '@chakra-ui/react';
import { GetStaticProps, InferGetStaticPropsType } from 'next';
import Head from 'next/head';
import GlossaryTable, { Term } from '../components/glossaryTable';

export default function Home({
  terms,
}: InferGetStaticPropsType<typeof getStaticProps>) {
  return (
    <>
      <Head>
        <title>용어집</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <nav>
        <Flex px={6} py={4} gap="5" align="center">
          <Box>용어집</Box>
          <Box>출처</Box>
          <Spacer />
          <IconButton aria-label="다크 모드" icon={<MoonIcon />} />
        </Flex>
      </nav>
      <main>
        <Container centerContent maxW="container.xl" my={3}>
          <Heading>용어집</Heading>
          <GlossaryTable />
        </Container>
      </main>
      <footer>
        <Container centerContent maxW="container.xl" my={3}>
          <HStack spacing="3rem">
            <Link
              href="https://autroshot.github.io/docs-repository/"
              isExternal
            >
              문서 저장소 <ExternalLinkIcon verticalAlign="0" />
            </Link>
            <Link href="#" isExternal>
              GitHub <ExternalLinkIcon verticalAlign="0" />
            </Link>
          </HStack>
        </Container>
      </footer>
    </>
  );
}

export async function getStaticProps() {
  // TODO: CSV 파일에서 데이터 읽기
  const terms: Term[] = [
    {
      english: 'application',
      korean: '앱, 애플리케이션',
      type: '일반',
      field: '',
      comment: '',
    },
    {
      english: 'application',
      korean: '앱, 애플리케이션',
      type: '일반',
      field: '',
      comment: '',
    },
    {
      english: 'application',
      korean: '앱, 애플리케이션',
      type: '일반',
      field: '',
      comment: '',
    },
  ];

  return { props: { terms } };
}
